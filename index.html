<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title data-i18n="index.page.title">Smart Home Activity</title>
  <link rel="stylesheet" href="css/base.css"/>
</head>
<body>
<header class="bar bar--header">
  <h1 data-i18n="index.page.heading">Smart Home Activity</h1>
  <div class="bar__actions">
    <div class="locale-switcher" data-locale-switcher>
      <label for="localeSelect" data-i18n="common.locale.label">Language</label>
      <select id="localeSelect" data-locale-selector></select>
    </div>
  </div>
</header>

<main class="container">
  <section class="card">
    <h2 data-i18n="index.page.chooseMode">Choose Mode</h2>
    <p data-i18n="index.page.editorDescription">Editor: build scenarios (upload background, mark anchors, choose devices, define aims/rules, export JSON).</p>
    <p data-i18n="index.page.playerDescription">Player: students play a scenario (device selection, placement, connect, submit, animations).</p>
    <div class="row">
      <a class="btn" href="editor.html" data-preserve-locale data-i18n="index.page.openEditor">Open Editor</a>
    </div>
  </section>

  <section class="card">
    <h3 data-i18n="index.page.scenariosHeading">Scenarios</h3>
    <p data-i18n="index.page.uploadInstructions">Upload your scenario folder (e.g. /scenarios/mycase) containing scenario.json and its background image.</p>
    <form class="scenario-upload" id="scenarioUploadForm">
      <label for="scenarioUpload" data-i18n="index.page.uploadLabel">Scenario JSON file</label>
      <input type="file" id="scenarioUpload" name="scenarioUpload" accept="application/json"/>
      <p class="hint" data-i18n="index.page.uploadHint">Select a .json file that was exported from the editor.</p>
      <div class="upload-feedback" id="scenarioUploadFeedback" role="status" aria-live="polite"></div>
    </form>
    <div class="stored-scenarios" id="storedScenariosSection">
      <h4 data-i18n="index.page.storedHeading">Stored scenarios</h4>
      <p class="hint" id="storedScenariosEmpty" data-i18n="index.scenarioStorage.emptyStates.none">No uploaded scenarios yet.</p>
      <table id="storedScenariosTable" class="stored-scenarios-table" hidden>
        <thead>
          <tr>
            <th scope="col" data-i18n="index.page.table.slot">Slot</th>
            <th scope="col" data-i18n="index.page.table.title">Title</th>
            <th scope="col" data-i18n="index.page.table.fileName">File name</th>
            <th scope="col" data-i18n="index.page.table.uploaded">Uploaded</th>
            <th scope="col" data-i18n="index.page.table.actions">Actions</th>
          </tr>
        </thead>
        <tbody id="storedScenariosBody"></tbody>
      </table>
    </div>
  </section>
</main>

<footer class="bar foot">
  <small data-i18n="index.page.footerNote">Static, front-end only. Apache / GitHub Pages friendly.</small>
</footer>
<script type="module" src="js/index/index-boot.js"></script>
<script type="module" src="js/index/scenario-storage.js"></script>
</body>
</html>
